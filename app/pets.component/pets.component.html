<h1>Pets</h1>

<div id="search_form" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
        <h4 class="modal-title" id="myModalLabel">Edit</h4>
      </div>
      <div class="modal-body">
        <div class="input-group">
            <input type="text" [(ngModel)]="searchName" class="form-control" name="age" placeholder="Pet's name" >
            <span class="input-group-btn">
                <button (click)="search()" class="btn btn-primary">Search</button>
            </span>
        </div>
        <table class="table table-striped table-hover table-condensed" *ngIf="foundPets">
          <tr>
            <th>Name</th>
            <th>Kind</th>
            <th>Age</th>
            <th>Edit</th>
            <th>Delete</th>
          </tr>
          <tr *ngFor="let pet of foundPets">
            <td>{{pet.name}}</td>
            <td>{{pet.kind}}</td>
            <td>{{pet.age}}</td>
            <td><button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#edit_form" (click)=edit(pet)>Edit</button></td>
            <td><input type="checkbox" (click)="check(pet)"></td>
          </tr>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div id="edit_form" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
        <h4 class="modal-title" id="myModalLabel">Edit</h4>
      </div>
      <div class="modal-body">
        <div *ngIf="message" class="alert alert-info">{{message}}</div>
        <form action="/login" method="post" *ngIf="editPet">
          <div class="form-group">
            <label>Name</label>
            <input type="text" [(ngModel)]="editPet.name" class="form-control" name="name">
          </div>
          <div class="form-group">
            <label>Kind</label>
            <input type="text" [(ngModel)]="editPet.kind" class="form-control" name="kind">
          </div>
          <div class="form-group">
            <label>Age</label>
            <input type="text" [(ngModel)]="editPet.age" class="form-control" name="age">
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-default" (click)="saveChanges()">Save</button>
      </div>
    </div>
  </div>
</div>


<table class="table table-striped table-hover table-condensed" *ngIf="pets">
  <tr>
 		<th>Name</th>
 		<th>Kind</th>
 		<th>Age</th>
    <th>Edit</th>
    <th>Delete</th>
 	</tr>
	<tr *ngFor="let pet of pets">
		<td>{{pet.name}}</td>
		<td>{{pet.kind}}</td>
		<td>{{pet.age}}</td>
    <td><button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#edit_form" (click)=edit(pet)>Edit</button></td>
    <td><input type="checkbox" (click)="check(pet)"></td>
	</tr>
</table>
<a href="#" [routerLink]="['/addpet']" class="btn btn-primary btn-lg"><span></span> Add pet</a>
<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#search_form">Search</button>
<button type="button" class="btn btn-primary btn-lg" (click)="delete()">Delete</button>
<!-- <button type="button" class="btn btn-primary btn-lg" (click)="logout()">Logout</button> -->

<router-outlet></router-outlet>


